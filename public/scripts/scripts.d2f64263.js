var translation_en={action:"Action",actions:"Actions",activate:"Activate",active:"Active",admin:"Admin",already_a_member_login:"Already a member? Login",back:"Back",cancel:"Cancel",change_password:"Change password",comment:"Comment",content:"Content",days_from_now:"{{ days }} from now",deactivate:"Deactivate",delete:"Delete",description:"Description",destination:"Destination",done:"Done!",edit:"Edit",email:"E-mail",end_date:"End date",end_date_greater_than_start_date:"The end date shouldnt be greater than start date",english:"English",error:"Error!",filter:"Filter",first_name:"First name",forgot_password:"Forgot your password?",forgot_success:"We have sent you more instructions to your e-mail",image_upload:"Image upload",insert:"Insert",language:"Language",last_name:"Last name",login:"Login",logining:"Logining",logout:"Logout",name:"Name","name@cexample.com":"name@example.com",no:"No",not_available:"Not available",not_a_member_register:"Not a user? Register",password:"Password",password_confirmation:"Password confirmation",password_recovery:"Password recovery",permissions:"Permissions",photo:"Photo",profile:"Profile",recovering:"Recovering",register_date:"Register date",register:"Register",registering:"Registering",remember_me:"Remember me",role:"Role",roles:"Roles",save:"Save",select:"Select",server_error:"Server error",show:"Show",showing:"Showing",spanish:"Spanish",success:"Success",summary:"Summary",start_date:"Start date",title:"Title",time_left:"Time left",toggle_admin_role:"Toggle admin role",type:"Type",user:"User",view:"View",welcome:"Welcome",yes:"Yes",administration:{section_name:"Administration",routes:"Routes",users:"Users"},routes:{section_name:"Routes"},trips:{section_name:"Trips",edit:"Edit trip",info:"Trip info",new:"New trip",next_month:"Trip plan next month",question_delete:"Do you want to delete this trip?",show:"Show trip"},users:{section_name:"Users",edit:"Edit users",info:"User info",question_delete:"Do you want to delete this trip?",show:"Show user"}},datatable_en={sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}},textAngular_en={html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"},backgroundColor:{tooltip:"Select background color"},fontColor:{tooltip:"Select font color"},uploadImage:{tooltip:"Image upload"}},translation_es={action:"Acción",actions:"Acciones",activate:"Activar",active:"Activo",admin:"Administrador",already_a_member_login:"¿Ya es un usuario? Inicie sesión",back:"Atrás",cancel:"Cancelar",change_password:"Cambiar contraseña",comment:"Comentario",content:"Contenido",days_from_now:"dentro de {{ days }} días",deactivate:"Desactivar",delete:"Eliminar",description:"Descripción",destination:"Destino",done:"¡Hecho!",edit:"Editar",email:"Correo electrónico",end_date:"Fecha de Fin",end_date_greater_than_start_date:"La fecha de fin no puede ser mayor a la fecha de inicio",english:"Inglés",error:"¡Error!",filter:"Filtrar",first_name:"Nombre",forgot_password:"¿Olvidó su contraseña?",forgot_success:"Hemos enviado instrucciones a tu correo",image_upload:"Subir imagen",insert:"Insertar",last_name:"Apellido",language:"Lenguaje",login:"Iniciar sesión",logining:"Iniciando sesión",logout:"Cerrar sesión",name:"Nombre","name@cexample.com":"nombre@ejemplo.com",no:"No",not_a_member_register:"¿No es un usuario? Registrese",not_available:"No disponible",password:"Contraseña",password_confirmation:"Confirmar contraseña",password_recovery:"Recuperar contraseña",permissions:"Permisos",photo:"Imagen",profile:"Perfil",recovering:"Recuperando",remember_me:"Recordarme",register_date:"Fecha de registro",register:"Registrarse",registering:"Registrarndose",role:"Rol",roles:"Roles",save:"Guardar",select:"Seleccionar",server_error:"Error en el servidor",show:"Mostrar",showing:"Mostrando",spanish:"Español",success:"Hecho",summary:"Resumen",start_date:"Fecha de Inicio",title:"Título",time_left:"Tiempo restante",toggle_admin_role:"Activar/Desactivar rol de administrador",type:"Tipo",user:"Usuario",view:"Ver",welcome:"Bienvenido",yes:"Si",administration:{section_name:"Administración",routes:"Rutas",users:"Usuarios"},routes:{section_name:"Rutas"},trips:{section_name:"Viajes",edit:"Editar viaje",info:"Información de viaje",new:"Nuevo viaje",next_month:"Plan de viaje del mes próximo",question_delete:"¿Desea eliminar este viaje?",show:"Ver viaje"},users:{section_name:"Usuarios",edit:"Editar usuario",info:"Información de usuario",question_delete:"¿Desea eliminar este usuario?",show:"Ver usuario"}},datatable_es={sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},textAngular_es={html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"},backgroundColor:{tooltip:"Select background color"},fontColor:{tooltip:"Select font color"},uploadImage:{tooltip:"Subir una imagen"}};angular.module("travelPlannerApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngFileUpload","uiCropper","toaster","ngCookies","datatables","datatables.buttons","angularMoment","ngDialog","textAngular","angularSpectrumColorpicker","ngStorage","angular-jwt","oitozero.ngSweetAlert","ui.select","frapontillo.bootstrap-switch","ui.bootstrap","pascalprecht.translate","chart.js","uiSwitch"]).controller("mainCtrl",["$scope","$rootScope","$localStorage","$location","$translate","$timeout","$uibModal","authService","sweetAlertService","languageService","toaster","amMoment",function(a,b,c,d,e,f,g,h,i,j,k,l){a.logout=function(){h.logout().promise.then(function(){b.isLogged=!1,k.pop("success",e.instant("done")),c.$reset(),f(function(){d.path("/login")},200)},function(a){k.pop("error",e.instant("error")),c.$reset(),f(function(){d.path("/login")},200),console.log(a)})},b.$userInfo.language=c.language||"es",a.changeLanguage=function(){l.changeLocale(b.$userInfo.language),e.use(b.$userInfo.language)},a.changePassword=function(){g.open({animation:!0,templateUrl:"views/dialogs/change-password-modal.html",controller:"changePasswordModalCtrl",controllerAs:"$scope",size:"md",keyboard:!1,backdrop:"static",resolve:{parentData:function(){return{id:b.$userInfo.id}}}})}}]).run(["$rootScope","$location","authService","ROLES","toaster","amMoment","$localStorage","$sessionStorage",function(a,b,c,d,e,f,g,h){h.running||(h.running=!0,g.remember||g.$reset()),a.dateOptions={formatYear:"yy",maxDate:new Date(2020,5,22)},a.$userInfo=g||{isLogged:!1,id:null,name:null,id_token:null,roles:[],remember:!1,language:"es"},a.$userInfo.isLogged||b.path("/login"),a.$on("$routeChangeStart",function(c,e){a.adminAccess=!!a.$userInfo.roles&&a.$userInfo.roles.indexOf(d.ADMIN)>-1,e.data&&!e.data.authenticated&&a.$userInfo.isLogged&&b.path("/"),e.data.allowed&&0===!e.data.allowed.filter(function(b){a.$userInfo.roles.indexOf(b)}).length&&b.path("/")})}]).config(["$rootScopeProvider",function(a){a.digestTtl(15)}]).config(["$translateProvider","$localStorageProvider",function(a,b){a.translations("es",translation_es).translations("en",translation_en).preferredLanguage("es")}]).config(["$httpProvider","jwtOptionsProvider","$localStorageProvider",function(a,b,c){b.config({tokenGetter:[function(){return c.get("id_token")}],whiteListedDomains:["127.0.0.1","localhost"]}),a.interceptors.push("jwtInterceptor"),a.interceptors.push(["$injector",function(a){return a.get("AuthInterceptor")}])}]).factory("AuthInterceptor",["$rootScope","$q","$location","$localStorage","pleaseWaitService","toaster","$translate",function(a,b,c,d,e,f,g){return{request:function(b){return e.wait(),b.url=b.url.replace(/\/$/,""),b.headers.language=a.$userInfo.language,b},response:function(a){return e.finish(),a},responseError:function(a){return 401===a.status&&(d.$reset(),c.path("/login")),a.status,a.status,419===a.status||a.status,500===a.status&&f.pop("error",g.instant("server_error")),e.finish(),b.reject(a)}}}]);var WEBSERVICE_DIR="http://127.0.0.1:8000/";angular.module("travelPlannerApp").constant("URL_CONST",{WEBSERVICE_DIR:WEBSERVICE_DIR,API:WEBSERVICE_DIR+"api/v1/",AUTH:WEBSERVICE_DIR+"authenticate/",REGISTER:WEBSERVICE_DIR+"register/",PASSWORD:WEBSERVICE_DIR+"password/",LANGUAGE:WEBSERVICE_DIR+"lang/",ROUTE:"routes/",TRIP:"trips/",USER:"users/"}).constant("ROLES",{ADMIN:1,USER:2}),angular.module("travelPlannerApp").config(["$routeProvider","ROLES",function(a,b){a.when("/",{templateUrl:"views/welcome.html",controller:"welcomeCtrl",data:{authenticated:!0}}).when("/login",{templateUrl:"views/auth/login.html",controller:"loginCtrl",data:{authenticated:!1}}).when("/register",{templateUrl:"views/auth/register.html",controller:"registerCtrl",data:{authenticated:!1}}).when("/forgot",{templateUrl:"views/auth/forgot.html",controller:"forgotCtrl",data:{authenticated:!1}}).when("/profile",{templateUrl:"views/profile/show.html",controller:"profileCtrl",data:{authenticated:!0,allowed:[b.ADMIN,b.USER]}}).when("/routes",{templateUrl:"views/routes/index.html",controller:"indexRoutesCtrl",data:{authenticated:!0,allowed:[b.ADMIN]}}).when("/trips",{templateUrl:"views/trips/index.html",controller:"indexTripsCtrl",data:{authenticated:!0,allowed:[b.ADMIN,b.USER]}}).when("/trips/create",{templateUrl:"views/trips/show.html",controller:"createTripCtrl",data:{authenticated:!0,allowed:[b.ADMIN,b.USER]}}).when("/trips/edit/:id",{templateUrl:"views/trips/show.html",controller:"editTripCtrl",data:{authenticated:!0,allowed:[b.ADMIN,b.USER]}}).when("/users",{templateUrl:"views/users/index.html",controller:"indexUsersCtrl",data:{authenticated:!0,allowed:[b.ADMIN]}}).when("/users/edit/:id",{templateUrl:"views/users/show.html",controller:"editUserCtrl",data:{authenticated:!0,allowed:[b.ADMIN]}}).otherwise({redirectTo:"/"})}]),angular.module("travelPlannerApp").config(["$provide",function(a){a.decorator("taOptions",["taRegisterTool","taTranslations","$delegate","$uibModal",function(a,b,c,d){return c.toolbar=[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["backgroundColor","fontColor"],["html","insertLink","insertImage","uploadImage","insertVideo","wordcount","charcount"]],a("uploadImage",{tooltiptext:b.uploadImage.tooltip,buttontext:"Upload Image",iconclass:"fa fa-image",action:function(a,b){return d.open({controller:"UploadImageModalCtrl",templateUrl:"views/dialogs/upload-image-modal.html"}).result.then(function(c){b(),document.execCommand("insertImage",!0,c),a.resolve()},function(){a.resolve()}),!1}}),a("backgroundColor",{tooltiptext:b.backgroundColor.tooltip,display:"<div spectrum-colorpicker style='padding-top: 1px; padding-bottom: 1px;' ng-model='color' on-change='!!color && action(color)' format='\"hex\"' options='options'></div>",action:function(a){var b=this;if(this.$editor().wrapSelection)return this.$editor().wrapSelection("backColor",a);setTimeout(function(){b.action(a)},100)},options:{replacerClassName:"fa fa-paint-brush",showButtons:!1},color:"#fff"}),a("fontColor",{tooltiptext:b.fontColor.tooltip,display:"<div spectrum-colorpicker style='padding-top: 1px; padding-bottom: 1px;' ng-model='color' on-change='!!color && action(color)' format='\"hex\"' options='options'></div>",action:function(a){var b=this;if(this.$editor().wrapSelection)return this.$editor().wrapSelection("foreColor",a);setTimeout(function(){b.action(a)},100)},options:{replacerClassName:"fa fa-font",showButtons:!1},color:"#000"}),c}]),a.decorator("taTranslations",["$delegate",function(a){return textAngular_es}])}]).factory("youtubeParser",["$log",function(a){return function(a){var b=a&&a.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return!(!b||11!==b[2].length)&&b[2]}}]).factory("taReverseCustomRenderers",["$log","youtubeParser","taCustomRenderers","taDOM",function(a,b,c,d){return function(a){var c=angular.element("<div></div>");c[0].innerHTML=a;var d=c.find("iframe");return angular.forEach(d,function(a){var c=b(a.src),d=angular.element(a),e='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+c+'/hqdefault.jpg" ta-insert-video="'+a.src+'" contenteditable="false" allowfullscreen="true" frameborder="0"';if(a.width||a.height)a.width&&(e+=' width="'+a.width+'"'),a.height&&(e+=' height="'+a.height+'"');else if(a.style){var f="";angular.isObject(a.style)?f=a.style.cssText:angular.isString(a.style)&&(f=a.style),e+=' style="'+f+'"'}e+=" />",d.replaceWith(e)}),c[0].innerHTML}}]),angular.module("travelPlannerApp").filter("titlecase",function(){return function(a){var b=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;if(a)return a=a.toLowerCase(),a.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(a,c,d){return c>0&&c+a.length!==d.length&&a.search(b)>-1&&":"!==d.charAt(c-2)&&("-"!==d.charAt(c+a.length)||"-"===d.charAt(c-1))&&d.charAt(c-1).search(/[^\s-]/)<0?a.toLowerCase():a.substr(1).search(/[A-Z]|\../)>-1?a:a.charAt(0).toUpperCase()+a.substr(1)})}}),angular.module("travelPlannerApp").filter("filterOptions",function(){return function(a,b){var c=[];if(angular.isArray(a)){var d=Object.keys(b);a.forEach(function(a){for(var e=!1,f=0;f<d.length;f++){var g=d[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){e=!0;break}}e&&c.push(a)})}else c=a;return c}}),angular.module("travelPlannerApp").factory("sweetAlertService",["SweetAlert","$translate",function(a,b){function c(b){return a.swal(b)}function d(b,c){return a.swal(b,c)}return{basic:function(a){return c(a)},confirm:function(a,c){return d({title:a.title,text:a.text,imageUrl:"images/icons/trash-b.88fa4824.png",imageWidth:400,imageHeight:200,showCancelButton:a.showCancelButton||!0,confirmButtonColor:a.confirmButtonColor||"#DD6B55",confirmButtonClass:"btn custom-button-2",confirmButtonText:a.confirmButtonText||b.instant("yes"),cancelButtonText:a.cancelButtonText||b.instant("no"),closeOnConfirm:a.closeOnConfirm||!0,closeOnCancel:a.closeOnCancel||!0,customClass:"my-sweet-class"},c)},input:function(a,b){return d({title:a.title,text:a.text,type:"input",showCancelButton:a.showCancelButton||!0,confirmButtonColor:a.confirmButtonColor||"blue",confirmButtonText:a.confirmButtonText||"Aceptar",cancelButtonText:a.cancelButtonText||"Cancelar",closeOnCancel:a.closeOnCancel||!0,animation:"slide-from-top",customClass:"text-black"},b)}}}]),angular.module("travelPlannerApp").factory("pleaseWaitService",["$rootScope",function(a){function b(){a.pleaseWait&&c(),a.pleaseWait=pleaseWait({logo:"",backgroundColor:"rgba(0, 73, 66, 0)",loadingHtml:'<div class="sk-circle"><div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div></div>'})}function c(){a.pleaseWait.finish()}return{wait:function(){return b()},finish:function(){return c()}}}]),angular.module("travelPlannerApp").factory("apiService",["$http","$q","URL_CONST",function(a,b,c){function d(c,d){var f=b.defer();return{promise:a({method:c,url:e+d.url,data:d.data,params:"GET"==c?d.data:{},timeout:f.promise}),cancel:function(a){f.resolve(a)}}}var e=c.API;return{createRequest:function(a,b){return d(a,b)}}}]),angular.module("travelPlannerApp").factory("authService",["$http","$q","URL_CONST",function(a,b,c){function d(c){var d=b.defer();return{promise:a({method:c.method,url:c.url,data:c.data,skipAuthorization:!0,timeout:d.promise}),cancel:function(a){d.resolve(a)}}}function e(a,b){return d({url:c.AUTH,method:a,data:b})}function f(a,b){return d({url:c.AUTH,method:a,data:b})}function g(a,b){return d({url:c.REGISTER,method:a,data:b})}function h(a,b){return d({url:c.PASSWORD,method:a,data:b})}return{login:function(a){return e("POST",a)},register:function(a){return g("POST",a)},forgot:function(a){return h("POST",a)},logout:function(){return f("DELETE")}}}]),angular.module("travelPlannerApp").factory("languageService",["$http","$q","URL_CONST",function(a,b,c){function d(c,d){var f=b.defer();return{promise:a({method:c,url:e+d,skipAuthorization:!0,timeout:f.promise}),cancel:function(a){f.resolve(a)}}}var e=c.LANGUAGE;return{changeLanguage:function(a){return d("GET",a)}}}]),angular.module("travelPlannerApp").factory("passwordService",["$http","$q","URL_CONST",function(a,b,c){function d(c,d){var e=b.defer();return{promise:a({method:c,url:d.url,data:d.data,timeout:e.promise}),cancel:function(a){e.resolve(a)}}}function e(a,b){return d(a,{url:f,data:b})}var f=c.PASSWORD;return{change:function(a){return e("PUT",a)}}}]),angular.module("travelPlannerApp").factory("routeService",["apiService","URL_CONST",function(a,b){function c(b){return a.createRequest(b,{url:e})}function d(b,c){return a.createRequest(b,{url:e+c.id,data:c})}var e=b.ROUTE;return{index:function(){return c("GET")},update:function(a){return d("PUT",a)}}}]),angular.module("travelPlannerApp").factory("tripService",["apiService","URL_CONST",function(a,b){function c(b,c){return a.createRequest(b,{url:i,data:c})}function d(b){return a.createRequest(b,{url:i+"next-month"})}function e(b,c){return a.createRequest(b,{url:i,data:c})}function f(b,c){return a.createRequest(b,{url:i+c.id})}function g(b,c){return a.createRequest(b,{url:i+c.id,data:c})}function h(b,c){return a.createRequest(b,{url:i+c.id})}var i=b.TRIP;return{index:function(a){return c("GET",a)},nextMonth:function(){return d("GET")},store:function(a){return e("POST",a)},show:function(a){return f("GET",a)},update:function(a){return g("PUT",a)},destroy:function(a){return h("DELETE",a)}}}]),angular.module("travelPlannerApp").factory("userService",["apiService","URL_CONST",function(a,b){function c(b){return a.createRequest(b,{url:i})}function d(b,c){return a.createRequest(b,{url:i+c.id})}function e(b,c){return a.createRequest(b,{url:i+c.id,data:c})}function f(b,c){return a.createRequest(b,{url:i+c.id+"/trips",data:c})}function g(b,c){return a.createRequest(b,{url:i+c.id+"/admin"})}function h(b,c){return a.createRequest(b,{url:i+c.id})}var i=b.USER;return{index:function(){return c("GET")},show:function(a){return d("GET",a)},update:function(a){return e("PUT",a)},trips:function(a){return f("GET",a)},toggleAdminRole:function(a){return g("PUT",a)},destroy:function(a){return h("DELETE",a)}}}]),angular.module("travelPlannerApp").controller("loginCtrl",["$scope","$rootScope","$location","toaster","$translate","$timeout","authService",function(a,b,c,d,e,f,g){a.loginData={},a.remember=!1,a.message="login",a.blockButton=!1,a.login=function(){a.blockButton=!0,a.message="logining";var h={email:a.loginData.email,password:a.loginData.password};g.login(h).promise.then(function(g){a.blockButton=!1,a.message="success",d.pop("success",e.instant("done")),b.$userInfo.isLogged=!0,b.$userInfo.id=g.data.data.id,b.$userInfo.name=g.data.data.name,b.$userInfo.id_token=g.data.meta.token,b.$userInfo.roles=g.data.data.roles.data.map(function(a){return a.level}),b.$userInfo.remember=a.remember,f(function(){c.path("/")},500)},function(b){a.blockButton=!1,a.message="login",401==b.status&&d.pop("error",e.instant("error"),b.data.error.message),422==b.status&&angular.forEach(b.data,function(a,b){d.pop("error",e.instant(b),a.shift())})})}}]),angular.module("travelPlannerApp").controller("registerCtrl",["$scope","$rootScope","$location","toaster","$translate","$timeout","authService",function(a,b,c,d,e,f,g){a.loginData={},a.remember=!1,a.message="register",a.blockButton=!1,a.login=function(){a.blockButton=!0,a.message="registering";var h={email:a.loginData.email,name:a.loginData.name,password:a.loginData.password,password_confirmation:a.loginData.password_confirmation};g.register(h).promise.then(function(g){a.blockButton=!1,a.message="success",d.pop("success",e.instant("done")),b.$userInfo.isLogged=!0,b.$userInfo.id=g.data.data.id,b.$userInfo.name=g.data.data.name,b.$userInfo.id_token=g.data.meta.token,b.$userInfo.roles=g.data.data.roles.data.map(function(a){return a.level}),b.$userInfo.remember=a.remember,f(function(){c.path("/")},500)},function(b){console.log(b),a.blockButton=!1,a.message="register",401==b.status&&d.pop("error",e.instant("error"),b.data.error.message),422==b.status&&angular.forEach(b.data,function(a,b){d.pop("error",e.instant(b),a.shift())})})}}]),angular.module("travelPlannerApp").controller("forgotCtrl",["$scope","$rootScope","$location","toaster","$translate","$timeout","authService",function(a,b,c,d,e,f,g){a.loginData={},a.remember=!1,a.message="password_recovery",a.blockButton=!1,a.login=function(){a.blockButton=!0,a.message="recovering";var b={email:a.loginData.email};g.forgot(b).promise.then(function(b){a.message="success",d.pop("success",e.instant("forgot_success")),a.loginData={}},function(b){a.blockButton=!1,a.message="password_recovery",401==b.status&&d.pop("error",e.instant("error"),b.data.error.message),422==b.status&&angular.forEach(b.data,function(a,b){d.pop("error",e.instant(b),a.shift())})})}}]),angular.module("travelPlannerApp").controller("indexRoutesCtrl",["$scope","$rootScope","$location","$translate","routeService","$q","toaster","DTOptionsBuilder","DTColumnBuilder","$compile","sweetAlertService",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){j(angular.element(b).contents())(a)}function m(a){return"<ui-select multiple ng-model=\"selected['"+a.id+'\']" theme="bootstrap" ng-disabled="blockActions" close-on-select="false" class="form-control" title="Select ROL" on-select="togglePermission(\''+a.id+"', $item.id)\" on-remove=\"togglePermission('"+a.id+'\', $item.id)"><ui-select-match placeholder="Select ROL">{{ $item.name | translate }}</ui-select-match><ui-select-choices repeat="role in roles | filter: $select.search track by role.name">{{ role.name | translate }}</ui-select-choices></ui-select>'}a.blockActions=!1,a.roles=[],a.selected={},a.dtOptions=h.fromFnPromise(function(){var b=f.defer();return e.index().promise.then(function(c){a.roles=c.data.meta.roles;for(var d=c.data.data.length-1;d>=0;d--)a.selected[c.data.data[d].id]=c.data.data[d].permissions.data;b.resolve(c.data.data)},function(a){g.pop("error",d.instant("error")),console.log(a),b.resolve([])}),b.promise}).withPaginationType("full_numbers").withDOM("frtip").withOption("createdRow",l).withLanguage(datatable_es),a.dtColumns=[i.newColumn("name").withTitle(d.instant("name")).withOption("sWidth","50%"),i.newColumn(null).withTitle(d.instant("permissions")).renderWith(m).withOption("sWidth","50%").notSortable()],a.dtInstance={},a.togglePermission=function(b,c){console.log(b,c),a.blockActions=!0,e.update({id:b,role_id:c}).promise.then(function(b){a.blockActions=!1,g.pop("success",d.instant("done"))},function(b){a.blockActions=!1,g.pop("error",d.instant("error")),console.log(b)})}}]),angular.module("travelPlannerApp").controller("indexTripsCtrl",["$scope","$rootScope","$location","$translate","tripService","userService","$q","ROLES","toaster","DTOptionsBuilder","DTColumnBuilder","$compile","sweetAlertService","$uibModal",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(b){l(angular.element(b).contents())(a)}function p(a){return'<a uib-tooltip="'+d.instant("view")+'" ng-disabled="blockActions" ng-click="view(\''+escape(JSON.stringify(a))+'\')"><img src="images/svg/eye-on.e30b8a0d.svg"></a><a uib-tooltip="'+d.instant("edit")+'" ng-disabled="blockActions" ng-click="edit(\''+a.id+'\')"><img src="images/svg/edit.df2264bb.svg"></a><a uib-tooltip="'+d.instant("delete")+'" ng-disabled="blockActions" ng-click="destroy(\''+a.id+'\')"><img src="images/svg/trash.6fa876ff.svg"></a>'}function q(a){return moment(a).parseZone().local().format("DD/MM/YYYY h:mm a")}function r(b){a.blockActions=!0,e.destroy({id:b}).promise.then(function(b){a.blockActions=!1,i.pop("success",d.instant("done")),a.dtInstance.reloadData()},function(b){a.blockActions=!1,i.pop("error",d.instant("error")),console.log(b)})}a.blockActions=!1,a.dates={},a.dtOptions=j.fromFnPromise(function(){var c=g.defer(),e={id:b.$userInfo.id,start_date:a.dates.start_date?moment(a.dates.start_date).format("YYYY-MM-DDTHH:mm:ssZ"):null,end_date:a.dates.end_date?moment(a.dates.end_date).format("YYYY-MM-DDTHH:mm:ssZ"):null};return f.trips(e).promise.then(function(a){c.resolve(a.data.data)},function(a){422==a.status&&angular.forEach(a.data,function(a,b){i.pop("error",d.instant(b),a.shift())}),500==a.status&&i.pop("error",d.instant("error")),console.log(a),c.resolve([])}),c.promise}).withPaginationType("full_numbers").withDOM("frtip").withOption("createdRow",o).withLanguage(datatable_es),a.dtColumns=[k.newColumn("destination").withTitle(d("destination")).withOption("sWidth","30%"),k.newColumn("start_date").withTitle(d("start_date")).renderWith(q).withOption("sWidth","20%"),k.newColumn("end_date").withTitle(d("end_date")).renderWith(q).withOption("sWidth","20%"),k.newColumn("time_left").withTitle(d("time_left")).withOption("sWidth","20%"),k.newColumn(null).withTitle(d("action")).renderWith(p).withClass("text-center actions").withOption("sWidth","10%").notSortable()],a.dtInstance={},a.filter=function(){if(a.dates.end_date&&a.dates.start_date&&moment(a.dates.end_date)<moment(a.dates.start_date))return void i.pop("error",d.instant("end_date_greater_than_start_date"));a.dtInstance.reloadData()},a.view=function(a){n.open({animation:!0,templateUrl:"views/dialogs/trip-preview.html",controller:"tripPreviewCtrl",controllerAs:"$scope",size:"sm",keyboard:!0,backdrop:!0,resolve:{parentData:function(){return{trip:a}}}})},a.edit=function(a){c.path("/trips/edit/"+a)},a.destroy=function(a){m.confirm({title:d.instant("trips.question_delete"),type:"warning"},function(b){b&&r(a)})}}]),angular.module("travelPlannerApp").controller("createTripCtrl",["$scope","$rootScope","$routeParams","$location","$translate","tripService","toaster",function(a,b,c,d,e,f,g){a.blockButtons=!1,a.header="trips.info",a.edit=!0,a.formData={},a.save=function(){var b={destination:a.formData.destination,start_date:moment(a.formData.start_date).format("YYYY-MM-DDTHH:mm:ssZ"),end_date:moment(a.formData.end_date).format("YYYY-MM-DDTHH:mm:ssZ"),comment:a.formData.comment};a.blockButtons=!0,f.store(b).promise.then(function(a){g.pop("success",e.instant("done")),d.path("/trips")},function(b){a.blockButtons=!1,a.errors=b.data})},a.cancel=function(){d.path("/trips")}}]),angular.module("travelPlannerApp").controller("editTripCtrl",["$scope","$rootScope","$routeParams","$location","$translate","tripService","toaster",function(a,b,c,d,e,f,g){function h(){f.show({id:c.id}).promise.then(function(b){a.formData={id:b.data.data.id,destination:b.data.data.destination,start_date:moment(b.data.data.start_date).parseZone().local().toDate(),end_date:moment(b.data.data.end_date).parseZone().local().toDate(),comment:b.data.data.comment}},function(a){g.pop("error",e.instant("error")),console.log(a)})}a.blockButtons=!1,a.header="trips.info",a.formData={},h(),a.save=function(){var b={id:a.formData.id,destination:a.formData.destination,start_date:moment(a.formData.start_date).format("YYYY-MM-DDTHH:mm:ssZ"),end_date:moment(a.formData.end_date).format("YYYY-MM-DDTHH:mm:ssZ"),comment:a.formData.comment};a.blockButtons=!0,f.update(b).promise.then(function(a){g.pop("success",e.instant("done")),d.path("/trips")},function(b){a.blockButtons=!1,a.errors=b.data})},a.cancel=function(){d.path("/trips")}}]),angular.module("travelPlannerApp").controller("indexUsersCtrl",["$scope","$rootScope","$location","$translate","userService","$q","ROLES","toaster","DTOptionsBuilder","DTColumnBuilder","$compile","sweetAlertService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){k(angular.element(b).contents())(a)}function n(a){return a.roles.data.filter(function(a){return a.level===g.ADMIN}).length>0}function o(a){return'<a ng-if="adminAccess" uib-tooltip="'+d.instant("toggle_admin_role")+'" ng-disabled="blockActions" ng-click="toggleAdminRole(\''+a.id+'\')"><img src="images/svg/user-2.2d60317c.svg"></a><a ng-if="'+!n(a)+'" uib-tooltip="'+d.instant("edit")+'" ng-disabled="blockActions" ng-click="edit(\''+a.id+'\')"><img src="images/svg/edit.df2264bb.svg"></a><a ng-if="'+!n(a)+'" uib-tooltip="'+d.instant("delete")+'" ng-disabled="blockActions" ng-click="destroy(\''+a.id+'\')"><img src="images/svg/trash.6fa876ff.svg"></a>'}function p(a){return moment(a).format("DD/MM/YYYY")}function q(a){return a.roles.data.map(function(a){return'<img style="width: 20px;" uib-tooltip="'+d.instant(a.name)+'" src="images/svg/role-'+a.level+'.svg">'})}function r(b){a.blockActions=!0,
e.toggleAdminRole({id:b}).promise.then(function(b){a.blockActions=!1,h.pop("success",d.instant("done")),a.dtInstance.reloadData()},function(b){a.blockActions=!1,h.pop("error",d.instant("error")),console.log(b)})}function s(b){a.blockActions=!0,e.destroy({id:b}).promise.then(function(b){a.blockActions=!1,h.pop("success",d.instant("done")),a.dtInstance.reloadData()},function(b){a.blockActions=!1,h.pop("error",d.instant("error")),console.log(b)})}a.blockActions=!1,a.dtOptions=i.fromFnPromise(function(){var a=f.defer();return e.index().promise.then(function(b){a.resolve(b.data.data)},function(b){h.pop("error",d.instant("error")),console.log(b),a.resolve([])}),a.promise}).withPaginationType("full_numbers").withDOM("frtip").withOption("createdRow",m).withLanguage(datatable_es),a.dtColumns=[j.newColumn("name").withTitle(d("name")).withOption("sWidth","25%"),j.newColumn("email").withTitle(d("email")).withOption("sWidth","35%"),j.newColumn("created_at").withTitle(d("register_date")).renderWith(p).withOption("sWidth","20%"),j.newColumn(null).withTitle(d("roles")).renderWith(q).withOption("sWidth","10%"),j.newColumn(null).withTitle(d("action")).renderWith(o).withClass("text-center actions").withOption("sWidth","10%").notSortable()],a.dtInstance={},a.edit=function(a){c.path("/users/edit/"+a)},a.destroy=function(a){l.confirm({title:d.instant("users.question_delete"),type:"warning"},function(b){b&&s(a)})},a.toggleAdminRole=function(a){r(a)}}]),angular.module("travelPlannerApp").controller("editUserCtrl",["$scope","$rootScope","$routeParams","$location","$translate","userService","toaster",function(a,b,c,d,e,f,g){function h(){f.show({id:c.id}).promise.then(function(b){console.log(b),a.formData={email:b.data.data.email,name:b.data.data.name,id:b.data.data.id}},function(a){g.pop("error",e.instant("error")),console.log(a)})}a.blockButtons=!1,a.header="users.info",a.message="edit",a.edit=!1,a.formData={},h(),a.save=function(){if(!a.edit)return a.edit=!0,a.message="save",void(a.header="users.edit");a.blockButtons=!0,f.update(a.formData).promise.then(function(a){g.pop("success",e.instant("done")),d.path("/users")},function(b){a.blockButtons=!1,a.errors=b.data})},a.cancel=function(){d.path("/users")}}]),angular.module("travelPlannerApp").controller("profileCtrl",["$scope","$rootScope","$localStorage","$routeParams","$translate","$location","userService","toaster",function(a,b,c,d,e,f,g,h){function i(){g.show({id:b.$userInfo.id}).promise.then(function(b){a.formData={id:b.data.data.id,name:b.data.data.name,email:b.data.data.email}},function(a){h.pop("error",e.instant("error")),console.log(a)})}a.blockButtons=!1,a.header="profile",a.formData={},a.back=function(){window.history.back()},i(),a.cancel=function(){i()},a.save=function(){g.update(a.formData).promise.then(function(a){h.pop("success",e.instant("done")),c.name=a.data.data.name},function(b){a.errors=b.data})}}]),angular.module("travelPlannerApp").controller("changePasswordModalCtrl",["$scope","$uibModalInstance","parentData","passwordService","toaster","$translate",function(a,b,c,d,e,f){a.blockButtons=!1,a.formData={id:c.id,password:"",password_confirmation:""},a.errors={},a.ok=function(){a.errors={},a.blockButtons=!0,d.change(a.formData).promise.then(function(a){e.pop("success",f.instant("done")),b.close(!0)},function(b){a.errors=b.data,a.blockButtons=!1})},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("travelPlannerApp").controller("tripPreviewCtrl",["$scope","$uibModalInstance","parentData",function(a,b,c){a.trip=JSON.parse(unescape(c.trip)),console.log(a.trip),a.close=function(){b.dismiss("close")}}]),angular.module("travelPlannerApp").controller("welcomeCtrl",["$scope","$rootScope","$localStorage","$routeParams","$translate","$location","tripService","toaster",function(a,b,c,d,e,f,g,h){function i(){g.nextMonth().promise.then(function(b){a.trips=b.data.data},function(a){h.pop("error",e.instant("error")),console.log(a)})}a.trips=[],i(),a.date=function(a){return moment(a).parseZone().local().format("DD/MM/YYYY h:mm a")},a.color=function(){switch(Math.floor(3*Math.random())+1){case 1:return"lazur-bg";case 2:return"yellow-bg";case 3:return"red-bg"}},a.rotation=function(){return"rotate-"+(Math.floor(2*Math.random())+1)}}]),angular.module("travelPlannerApp").run(["$templateCache",function(a){"use strict";a.put("views/auth/forgot.html",'<div class="to-center" style="top: 50%; position: absolute; left: 50%; transform: translate(-50%,-50%)"> <div class=""> \x3c!-- img src="images/logo.png" style="width: 12em; margin-left: 50%; transform: translateX(-50%);" --\x3e </div> <div class="login-form" style="height: 20em"> <form class="form-horizontal" name="loginForm" role="form" autocomplete="off" style="padding-top: 1em"> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/user.c615cb3f.svg"></span> <input ng-model="loginData.email" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'email\' | translate }}" name="email" type="email" required pattern="^([\\w\\d\\-\\.]+)@{1}(([\\w\\d\\-]{1,67})|([\\w\\d\\-]+\\.[\\w\\d\\-]{1,67}))\\.(([a-zA-Z\\d]{2,4})(\\.[a-zA-Z\\d]{2})?)$"> </div> </div> <div class="col-md-6 col-md-offset-3 m-t-4" style="margin-top: 4.5em"> <button type="submit" class="btn btn-block custom-button" ng-disabled="!loginForm.$valid || blockButton" ng-click="loginForm.$valid && !blockButton && login()">{{ message | translate }}</button> </div> </form> <div class="alert alert-success extra-buttons"> <a ng-href="{{\'#!/login\'}}">{{ \'already_a_member_login\' | translate }}</a> </div> </div> </div>'),a.put("views/auth/login.html",'<div class="to-center" style="top: 50%; position: absolute; left: 50%; transform: translate(-50%,-50%)"> <div class=""> \x3c!-- img src="images/logo.png" style="width: 12em; margin-left: 50%; transform: translateX(-50%);" --\x3e </div> <div class="login-form"> <form class="form-horizontal" name="loginForm" role="form" autocomplete="off" style="padding-top: 1em"> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/user.c615cb3f.svg"></span> <input ng-model="loginData.email" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'name@cexample.com\' | translate }}" name="email" type="email" required autofocus pattern="^([\\w\\d\\-\\.]+)@{1}(([\\w\\d\\-]{1,67})|([\\w\\d\\-]+\\.[\\w\\d\\-]{1,67}))\\.(([a-zA-Z\\d]{2,4})(\\.[a-zA-Z\\d]{2})?)$"> </div> </div> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/lock.fddc6b38.svg"></span> <input ng-model="loginData.password" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'password\' | translate }}" name="password" type="password" value="" required> </div> </div> <div class="col-md-10 col-md-offset-1" style="margin-top: 10px"> <div class="checkbox" style="text-align: center"> <input type="checkbox" name="remember" ng-model="remember" id="remember" class="css-checkbox"><label for="remember" class="css-label radGroup1">{{ \'remember_me\' | translate }}</label> </div> </div> <div class="col-md-6 col-md-offset-3 m-t-4"> <button type="submit" class="btn btn-block custom-button" ng-disabled="!loginForm.$valid || blockButton" ng-click="loginForm.$valid && !blockButton && login()">{{ message | translate }}</button> </div> </form> <div class="alert alert-success extra-buttons"> <a ng-href="{{\'#!/register\'}}">{{ \'not_a_member_register\' | translate }}</a> <br> <a ng-href="{{\'#!/forgot\'}}">{{ \'forgot_password\' | translate }}</a> </div> </div> </div>'),a.put("views/auth/register.html",'<div class="to-center" style="top: 50%; position: absolute; left: 50%; transform: translate(-50%,-50%)"> <div class=""> \x3c!-- img src="images/logo.png" style="width: 12em; margin-left: 50%; transform: translateX(-50%);" --\x3e </div> <div class="login-form" style="height: 33em"> <form class="form-horizontal" name="loginForm" role="form" autocomplete="off" style="padding-top: 1em"> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/user.c615cb3f.svg"></span> <input ng-model="loginData.email" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'email\' | translate }}" name="email" type="email" required pattern="^([\\w\\d\\-\\.]+)@{1}(([\\w\\d\\-]{1,67})|([\\w\\d\\-]+\\.[\\w\\d\\-]{1,67}))\\.(([a-zA-Z\\d]{2,4})(\\.[a-zA-Z\\d]{2})?)$"> </div> </div> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/user.c615cb3f.svg"></span> <input ng-model="loginData.name" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'name\' | translate }}" name="email" type="text" required> </div> </div> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/lock.fddc6b38.svg"></span> <input ng-model="loginData.password" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'password\' | translate }}" name="password" type="password" value="" required> </div> </div> <div class="col-md-10 col-md-offset-1 m-t-2"> <div class="input-group" style="border-bottom: 1px solid white"> <span class="input-group-addon no-border"><img src="images/svg/lock.fddc6b38.svg"></span> <input ng-model="loginData.password_confirmation" style="padding-left: 0px" class="form-control no-border" placeholder="{{ \'password_confirmation\' | translate }}" name="password" type="password" value="" required> </div> </div> <div class="col-md-6 col-md-offset-3 m-t-4"> <button type="submit" class="btn btn-block custom-button" ng-disabled="!loginForm.$valid || blockButton" ng-click="loginForm.$valid && !blockButton && login()">{{ message | translate }}</button> </div> </form> <div class="alert alert-success extra-buttons"> <a ng-href="{{\'#!/login\'}}">{{ \'already_a_member_login\' | translate }}</a> </div> </div> </div>'),a.put("views/dialogs/change-password-modal.html",'<div class="modal-header text-black" style="background-color: white; border-color: white"> <h3 class="modal-title" id="modal-title" style="color: gray !important">{{ \'change_password\' | translate }}</h3> </div> <div class="modal-body text-black" id="modal-body" style="background-color: #00a69c !important"> <form accept-charset="utf-8" class="form-horizontal" role="form" name="changePasswordForm"> <div class="form-group"> <label for="password" class="col-sm-4 control-label" style="color: white !important">{{ \'password\' | translate }}</label> <div class="col-sm-6"> <input type="password" class="form-control" id="password" placeholder="{{ \'password\' | translate }}" ng-model="formData.password" required style="color: black !important"> <ul ng-show="errors.password" class="text-red"> <li ng-repeat="error in errors.password">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="password-confirmation" class="col-sm-4 control-label" style="color: white !important">{{ \'password_confirmation\' | translate }}</label> <div class="col-sm-6"> <input type="password" class="form-control" id="password-confirmation" placeholder="{{ \'password_confirmation\' | translate }}" ng-model="formData.password_confirmation" required style="color: black !important"> <ul ng-show="errors.password_confirmation" class="text-red"> <li ng-repeat="error in errors.password_confirmation">{{ error }}</li> </ul> </div> </div> <div class="form-group m-t-2 text-center"> <button class="btn btn-primary custom-button-2" type="button" ng-disabled="!changePasswordForm.$valid || blockButtons" ng-click="changePasswordForm.$valid && !blockButtons && ok()">OK</button> <button class="btn btn-warning custom-button-2" type="button" ng-click="!blockButtons && cancel()">Cancel</button> </div> </form> </div>'),a.put("views/dialogs/trip-preview.html",'<div class="col-md-10 col-md-offset-1 small-form"> <div class="row" style="margin-bottom: 10px"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'destination\' | translate }}</label> <div class="col-sm-10"> <span class="form-control">{{ trip.destination }}</span> </div> </div> </div> <div class="row"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'start_date\' | translate }}</label> <div class="col-sm-10"> <span class="form-control">{{ trip.start_date }}</span> </div> </div> </div> <div class="row"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'end_date\' | translate }}</label> <div class="col-sm-10"> <span class="form-control">{{ trip.end_date }}</span> </div> </div> </div> <div class="row"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'comment\' | translate }}</label> <div class="col-sm-10"> <textarea readonly class="form-control">{{ trip.comment }}</textarea> </div> </div> </div> <div class="row" ng-if="trip.time_left != \'N/A\'" style="margin-top: 10px"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'time_left\' | translate }}</label> <div class="col-sm-10"> <span class="form-control">{{ trip.time_left }}</span> </div> </div> </div> </div>'),a.put("views/profile/show.html",'<div class="row"> <div class="col-md-10 col-md-offset-1"> <h3 class="bottom-white-line">{{ header | translate }}</h3> <a ng-click="back()" uib-tooltip="{{ \'back\' | translate }}" class="btn btn-sm btn-primary pull-right custom-button-3" style="margin-right: 2em !important; position: absolute; top: 0; right: 0px">&lt;</a> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1 small-form"> <form accept-charset="utf-8" class="form-horizontal" role="form" name="profileForm"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">{{ \'name\' | translate }}</label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" placeholder="{{ \'name\' | translate }}" ng-model="formData.name" required> <ul ng-show="errors.name" class="text-red"> <li ng-repeat="error in errors.name">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">{{ \'email\' | translate }}</label> <div class="col-sm-10"> <input type="text" class="form-control" id="email" placeholder="{{ \'email\' | translate }}" ng-model="formData.email" required> <ul ng-show="errors.email" class="text-red"> <li ng-repeat="error in errors.email">{{ error }}</li> </ul> </div> </div> <div class="form-group m-t-4"> <div class="col-sm-offset-2 col-sm-4"> <button ng-disabled="!profileForm.$valid || blockButtons" ng-click="profileForm.$valid && !blockButtons && save()" class="btn btn-lg btn-primary btn-block custom-button-2" type="submit"> {{ \'save\' | translate }} </button> </div> <div class="col-sm-offset-2 col-sm-4"> <span ng-disabled="blockButtons" ng-click="!blockButtons && cancel()" class="btn btn-lg btn-danger btn-block custom-button-2"> {{ \'cancel\' | translate }} </span> </div> </div> </form> </div> </div>'),a.put("views/routes/index.html",'<div class="row"> <div class="col-md-9 col-md-offset-1"> <h3 class="section-title">{{ \'routes.section_name\' | translate }}</h3> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1"> <table dt-options="dtOptions" datatable="" dt-columns="dtColumns" dt-instance="dtInstance" class="table custab"></table> </div> </div>'),a.put("views/trips/index.html",'<div class="row"> <div class="col-md-9 col-md-offset-1"> <h3 class="section-title">{{ \'trips.section_name\' | translate }}</h3> </div> </div> <div class="row"> <div class="col-sm-3 col-sm-offset-2"> <input ng-model="dates.start_date" type="datetime-local" uib-tooltip="{{ \'start_date\' | translate }}" class="form-control"> </div> <div class="col-sm-3"> <input ng-model="dates.end_date" type="datetime-local" uib-tooltip="{{ \'end_date\' | translate }}" class="form-control"> </div> <div class="col-md-1 col-md-offset-1" style="padding-right: 70px"> <a class="btn btn-sm btn-primary pull-right custom-button-2" ng-click="filter()">{{ \'filter\' | translate }}</a> </div> <div class="col-md-1"> <a ng-href="{{\'#!/trips/create\'}}" class="btn btn-sm btn-primary pull-right custom-button-2">{{ \'trips.new\' | translate }}</a> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1" style="margin-top: 10px"> <table dt-options="dtOptions" datatable="" dt-columns="dtColumns" dt-instance="dtInstance" class="table custab"></table> </div> </div>'),a.put("views/trips/show.html",'<div class="row"> <div class="col-md-10 col-md-offset-1"> <h3 class="bottom-white-line">{{ header | translate }}</h3> <a ng-href="{{ \'#!/trips\' }}" uib-tooltip="{{ \'back\' | translate }}" class="btn btn-sm btn-primary pull-right custom-button-3" style="margin-right: 2em !important; position: absolute; top: 0; right: 0px">&lt;</a> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1 small-form"> <form accept-charset="utf-8" class="form-horizontal" role="form" name="tripForm"> <div class="form-group"> <label for="destination" class="col-sm-2 control-label">{{ \'destination\' | translate }}</label> <div class="col-sm-10"> <input type="text" class="form-control" id="destination" placeholder="{{ \'destination\' | translate }}" ng-model="formData.destination" required> <ul ng-show="errors.destination" class="text-red"> <li ng-repeat="error in errors.destination">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="start_date" class="col-sm-2 control-label">{{ \'start_date\' | translate }}</label> <div class="col-sm-10"> <input ng-model="formData.start_date" type="datetime-local" id="start_date" class="form-control" required> <ul ng-show="errors.start_date" class="text-red"> <li ng-repeat="error in errors.start_date">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="end_date" class="col-sm-2 control-label">{{ \'end_date\' | translate }}</label> <div class="col-sm-10"> <input ng-model="formData.end_date" type="datetime-local" id="end_date" class="form-control" required> <ul ng-show="errors.end_date" class="text-red"> <li ng-repeat="error in errors.end_date">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="comment" class="col-sm-2 control-label">{{ \'comment\' | translate }}</label> <div class="col-sm-10"> <textarea type="text" class="form-control" id="comment" placeholder="{{ \'comment\' | translate }}" ng-model="formData.comment"></textarea> <ul ng-show="errors.comment" class="text-red"> <li ng-repeat="error in errors.comment">{{ error }}</li> </ul> </div> </div> <div class="form-group m-t-4"> <div class="col-sm-offset-2 col-sm-4"> <button ng-disabled="!tripForm.$valid || blockButtons" ng-click="tripForm.$valid && !blockButtons && save()" class="btn btn-lg btn-primary btn-block custom-button-2" type="submit"> {{ \'save\' | translate }} </button> </div> <div class="col-sm-offset-2 col-sm-4"> <span ng-disabled="blockButtons" ng-click="!blockButtons && cancel()" class="btn btn-lg btn-danger btn-block custom-button-2"> {{ \'cancel\' | translate }} </span> </div> </div> </form> </div> </div>'),a.put("views/users/index.html",'<div class="row"> <div class="col-md-9 col-md-offset-1"> <h3 class="section-title">{{ \'users.section_name\' | translate }}</h3> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1"> <table dt-options="dtOptions" datatable="" dt-columns="dtColumns" dt-instance="dtInstance" class="table custab"></table> </div> </div>'),a.put("views/users/show.html",'<div class="row"> <div class="col-md-10 col-md-offset-1"> <h3 class="bottom-white-line">{{ header | translate }}</h3> <a ng-href="{{ \'#!/users\' }}" uib-tooltip="{{ \'back\' | translate }}" class="btn btn-sm btn-primary pull-right custom-button-3" style="margin-right: 2em !important; position: absolute; top: 0; right: 0px">&lt;</a> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1 small-form"> <form accept-charset="utf-8" class="form-horizontal" role="form" name="userForm"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">{{ \'name\' | translate }}</label> <div class="col-sm-10"> <input ng-disabled="!edit" type="text" class="form-control" id="name" placeholder="{{ \'name\' | translate }}" ng-model="formData.name" required> <ul ng-show="errors.name" class="text-red"> <li ng-repeat="error in errors.name">{{ error }}</li> </ul> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">{{ \'email\' | translate }}</label> <div class="col-sm-10"> <input ng-disabled="!edit" type="text" class="form-control" id="email" placeholder="{{ \'email\' | translate }}" ng-model="formData.email" required> <ul ng-show="errors.email" class="text-red"> <li ng-repeat="error in errors.email">{{ error }}</li> </ul> </div> </div> <div class="form-group m-t-4"> <div class="col-sm-offset-2 col-sm-4"> <button ng-disabled="!userForm.$valid || blockButtons" ng-click="userForm.$valid && !blockButtons && save()" class="btn btn-lg btn-primary btn-block custom-button-2" type="submit"> {{ message | translate }} </button> </div> <div class="col-sm-offset-2 col-sm-4"> <span ng-disabled="blockButtons" ng-click="!blockButtons && cancel()" class="btn btn-lg btn-danger btn-block custom-button-2"> {{ \'cancel\' | translate }} </span> </div> </div> </form> </div> </div>'),a.put("views/welcome.html",'<div class="row"> <div class="col-md-10 col-md-offset-1"> <h3 class="bottom-white-line">{{ \'trips.next_month\' | translate }}</h3> </div> </div> <div class="bootstrap snippet" style="padding-left: 130px;padding-right: 130px"> <div class="row"> <ul class="notes"> <li ng-repeat="trip in trips"> <div class="{{ rotation() }} {{ color() }}"> <small> <p>{{ \'start_date\' | translate }}: {{ date(trip.start_date) }}</p> <p>{{ \'end_date\' | translate }}: {{ date(trip.end_date) }}</p> </small> <h4 style="margin-top: 30px">{{ trip.destination }}</h4> <p ng-if="trip.time_left">{{ trip.time_left }}</p> <p ng-if="trip.comment">{{ trip.comment }}</p> </div> </li> </ul> </div> </div> \x3c!-- https://bootsnipp.com/snippets/MRjyj --\x3e')}]);